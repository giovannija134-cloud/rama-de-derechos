<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Asesor Jurídico Virtual</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/lucide-react"></script>
</head>
<body class="bg-slate-100 text-slate-900 font-sans">
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;
        const { MessageSquare, Gavel, Book, User, Bot, Send, ChevronDown, ChevronRight } = lucide-react;

        const App = () => {
            const [chatOpen, setChatOpen] = useState(false);
            const [activeSection, setActiveSection] = useState(null);

            const legalData = {
                publico: { 
                    title: "Derecho Público", 
                    desc: "Regula el poder del Estado y su relación con nosotros.",
                    color: "blue",
                    subbranches: [
                        { name: "D. Constitucional", concept: "Leyes supremas del país.", example: "Garantías individuales.", source: "Constitución Política" },
                        { name: "D. Administrativo", concept: "Gestión de servicios públicos.", example: "Trámites de multas.", source: "Ley de Procedimiento Adm." }
                    ]
                },
                privado: { 
                    title: "Derecho Privado", 
                    desc: "Regula acuerdos entre personas o empresas.",
                    color: "purple",
                    subbranches: [
                        { name: "D. Civil", concept: "Contratos, familia y bienes.", example: "Contrato de renta.", source: "Código Civil Federal" },
                        { name: "D. Mercantil", concept: "Comercio y actos de negocio.", example: "Creación de una empresa.", source: "Código de Comercio" }
                    ]
                },
                social: { 
                    title: "Derecho Social", 
                    desc: "Busca la justicia para grupos vulnerables.",
                    color: "emerald",
                    subbranches: [
                        { name: "D. Laboral", concept: "Derechos de los trabajadores.", example: "Pago de aguinaldo.", source: "Ley Federal del Trabajo" }
                    ]
                }
            };

            return (
                <div className="max-w-2xl mx-auto p-4 py-10">
                    <header className="text-center mb-8">
                        <h1 className="text-3xl font-bold text-slate-800 flex items-center justify-center gap-2">
                            <Gavel className="text-blue-600" /> Mi Investigación Jurídica
                        </h1>
                        <p className="text-slate-500">Explora las ramas del derecho de forma interactiva</p>
                    </header>

                    {/* SECCIONES DE RAMAS */}
                    <div className="space-y-4 mb-20">
                        {Object.entries(legalData).map(([key, data]) => (
                            <div key={key} className="bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden">
                                <button 
                                    onClick={() => setActiveSection(activeSection === key ? null : key)}
                                    className={`w-full p-4 flex items-center justify-between bg-${data.color}-50 hover:bg-${data.color}-100 transition-colors`}
                                >
                                    <div className="flex items-center gap-3">
                                        <Book className={`text-${data.color}-600`} />
                                        <span className="font-bold text-lg">{data.title}</span>
                                    </div>
                                    {activeSection === key ? <ChevronDown /> : <ChevronRight />}
                                </button>
                                
                                {activeSection === key && (
                                    <div className="p-4 space-y-4 animate-in fade-in duration-300">
                                        <p className="text-sm text-slate-600 italic border-b pb-2">{data.desc}</p>
                                        {data.subbranches.map((sub, i) => (
                                            <div key={i} className="bg-slate-50 p-3 rounded-lg border-l-4 border-blue-400">
                                                <h4 className="font-bold text-blue-800">{sub.name}</h4>
                                                <p className="text-sm"><strong>Concepto:</strong> {sub.concept}</p>
                                                <p className="text-sm"><strong>Ejemplo:</strong> {sub.example}</p>
                                                <p className="text-xs text-slate-400 mt-1 italic">Fuente: {sub.source}</p>
                                            </div>
                                        ))}
                                    </div>
                                )}
                            </div>
                        ))}
                    </div>

                    {/* BOTÓN FLOTANTE ASESOR */}
                    <div className="fixed bottom-6 right-6">
                        {chatOpen && (
                            <div className="bg-white w-72 h-96 shadow-2xl rounded-2xl mb-4 border border-slate-200 flex flex-col overflow-hidden animate-in slide-in-from-bottom-4">
                                <div className="bg-blue-600 p-4 text-white font-bold flex justify-between">
                                    <span>Asesor Virtual</span>
                                    <button onClick={() => setChatOpen(false)}>×</button>
                                </div>
                                <div className="flex-1 p-4 overflow-y-auto text-sm space-y-3">
                                    <div className="bg-slate-100 p-2 rounded-lg text-slate-700">
                                        ¡Hola! Soy tu guía legal. ¿En qué rama del derecho tienes dudas hoy?
                                    </div>
                                </div>
                                <div className="p-2 border-t flex gap-2">
                                    <input type="text" placeholder="Escribe..." className="w-full text-xs p-2 border rounded" />
                                    <button className="bg-blue-600 text-white p-2 rounded"><Send size={14} /></button>
                                </div>
                            </div>
                        )}
                        <button 
                            onClick={() => setChatOpen(!chatOpen)}
                            className="bg-blue-600 text-white p-4 rounded-full shadow-lg hover:scale-110 transition-transform flex items-center gap-2"
                        >
                            <MessageSquare />
                            <span className="font-bold">Asesor</span>
                        </button>
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
